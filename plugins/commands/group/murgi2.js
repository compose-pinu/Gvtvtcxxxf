export const config = {
  name: "murgi2",
  version: "1.0.0",
  permissions: [2],
  credits: "SK-SIDDIK-KHAN",
  category: "admin",
  usePrefix: false,
  usages: "please @mention",
  cooldowns: 5,
};

export async function onCall({ message, api = global.api, userPermissions }) {
  try {
    if (!api) return console.error("API not found!");

    console.log("User Permissions:", userPermissions);

    if (!userPermissions || !userPermissions.includes(2)) {
      return api.sendMessage("тЭМ You do not have permission to use this command ЁЯФР", message.threadID);
    }

    const mentions = message.mentions || {};
    const mentionIDs = Object.keys(mentions);
    if (mentionIDs.length === 0) {
      return api.sendMessage("ржмрж╕ ржпрзЗ ржорзЗрзЯрзЗржХрзЗ ржЪрзБржжрждрзЗ ржЪрж╛ржУ рж╕рзЗ ржорзЗрзЯрзЗржХрзЗ @ржорзНржпрж╛ржирж╢ржи ржжрзЗржУ", message.threadID);
    }

    const mentionID = mentionIDs[0];
    const mentionName = mentions[mentionID];
    const arraytag = [{ id: mentionID, tag: mentionName }];

    function sendText(text, delay = 0) {
      return new Promise(resolve => setTimeout(() => {
        api.sendMessage({ body: text, mentions: arraytag }, message.threadID);
        resolve();
      }, delay));
    }

    await sendText(`ржЪрзБржжрж╛ рж▓рзЛ ${name}`, 0);
    await sendText(`ржЦрж╛ржВржХрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐ ЁЯе░ред ${name}`, 3000);
    await sendText(`ржЦрж╛ржВржХрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржХржЪрж┐ ржмрзЛржи рж░рзЗ ржЪрзБржжрж┐ ЁЯШН.. ${name}`, 5000);
    await sendText(`ржорж╛ржжрж╛рж░ржЪрзЛржж рждрж░ ржЖржорзНржорзБ ржкржо ржкржо ржЦрж╛ржВржХрж┐рж░ ржкрзЛ ЁЯР░ ${name}`, 7000);
    await sendText(`ржЦрж╛ржВржХрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржХржЪрж┐ ржнрзБржжрж╛рзЯ ржнрзБржжрж╛рзЯ ржХрж╛ржорж░ ржжрж┐ржорзБ ЁЯТФ! ${name}`, 9000);
    await sendText(`ржЦрж╛ржВржХрж┐ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ржХржерж╛ ржХ ржХржо ржХржо рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрзЗ ржмрж╛ржирж╛ржорзБ ржЖржЗржЯрзЗржо ржмрзЛржо ${name}`, 12000);
    await sendText(`depression ржерзЗржХрзЗржУ рждрж░ ржорж╛ржЗрж░рзЗ ржЪрзБ*** ржжрж┐ ЁЯдм ${name}`, 15000);
    await sendText(`рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЖржЪрж╛рж░ ржПрж░ рж▓рзЛржн ржжрзЗржЦрж┐ ржЪрзБржжрж┐ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗЁЯдм ${name}`, 17000);
    await sendText(`ржмрж╛ржирзНржжрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржХржЪрж┐ ржмрзЛржирзЗрж░ ржнрзБржжрж╛ ржлрж╛ржХ ржХрж░ ржерзБрждрзБ ржжрж┐рзЯрзЗ ржнрзБржжрж╛рзЯ ржжржи ржбрзБржХрж╛ржорзБ ЁЯдЯ ${name}`, 20000);
    await sendText(`ржмрж╛ржирзНржжрж┐ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ рждрж░ ржжрзБрж▓рж╛ ржнрж╛ржЗ ржПрж░ ржХрж╛ржирзНржжрзЗ ржлрзЗрж▓рзЗ ЁЯдЭ ${name}`, 23000);
    await sendText(`ржЙржлржлржл ржЦрж╛ржжрзНржжрж╛ржорж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ рждрж░ ржЖржорзНржорзБрж░ ржХрж╛рж▓рж╛ ржнрзБржжрж╛рзЯ ржЖржорж╛рж░ ржорж╛рж▓ ржЖржЙржЯ рждрж░ ржХржЪрж┐ ржмрзЛржи рж░рзЗ ржЙржкрзНрждрж╛ ржХрж░рзЗ ржПржмрж╛рж░ ржЪрзБржжржмрзЛ ЁЯТЙред ${name}`, 25000);
    await sendText(`ржЕржирж▓рж╛ржЗржирзЗ ржЧрж╛рж▓рж┐ ржмрж╛ржЬ рж╣рзЯрзЗ ржЧрзЗржЫржд ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ржПржоржи ржЪрзБржжрж╛ ржжрж┐ржорзБ рж▓рж╛ржЗржл ржЯрж╛ржЗржо ржоржирзЗ рж░рж╛ржЦржнрж┐ ржирзЯржи рждрж░ ржмрж╛ржк ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ЁЯШШред ${name}`, 28500);
    await sendText(`ржмрж╛рждрж┐ржЬрж╛ рж╢рзБржи рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж▓рзЗ рж░рж╛ржЧ ржХрж░ржмрж┐ ржирж╛ рждрзЛ ржЖржЪрзНржЫрж╛ ржЬрж╛ рж░рж╛ржЧ ржХрж░рж┐рж╕ ржирж╛ рждрж░ ржЖржорзНржорзБрж░ ржХрж╛рж▓рж╛ ржнрзБржжрж╛рзЯ ржЖрж░ ржЪрзБржжрж▓рж╛ржо ржирж╛ рждрзЛ ржмрзЛржи ржПрж░ ржЬрж╛ржорж╛ ржЯрж╛ ржЦрзБрж▓рзЗ ржжрзЗ тЬЛ ${name}`, 31000);
    await sendText(`рж╣рж╛ржЗ ржорж╛ржжрж╛рж░ржЪрзЛржж рждрж░ рждрж░ ржмрзНржпрж╛рж╢рж╛ ржЬрж╛рждрзЗрж░ ржЖржорзНржорзБ ржЯрж╛ рж░рзЗ ржЖржжрж░ ржХрж░рзЗ ржХрж░рзЗ ржЪрзБржжрж┐ ${name}`, 36000);
    await sendText(`ржЪрзБржжрж╛ ржХрж┐ ржЖрж░рзЛ ржЦрж╛ржмрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓ ЁЯдЦ`, 39000);
    await sendText(`ржЦрж╛ржВржХрж┐рж░ ржорзЗрзЯрзЗ ЁЯе░ред ${name}`, 42000);
    await sendText(`ржорж╛ржжрж╛рж░ржЪрзЛржжЁЯШН.. ${name}`, 48000);
    await sendText(`ржмрзНржпрж╛рж╕рзНржпрж╛рж░ ржорзЗрзЯрзЗ ЁЯР░ ${name}`, 51000);
    await sendText(`ржмрзНржпрж╛рж╢рзНржпрж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ЁЯТФ! ${name}`, 54000);
    await sendText(`ржкрждрж┐рждрж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ${name}`, 57000);
    await sendText(`depression ржерзЗржХрзЗржУ рждрж░ ржорж╛ржЗрж░рзЗ ржЪрзБ*** ржжрж┐ ЁЯдм ${name}`, 59400);
    await sendText(`рждрж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐ ${name}`, 63000);
    await sendText(`ржирж╛ржЯ ржмрж▓рзНржЯрзБ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗЁЯдЯ ${name}`, 66000);
    await sendText(`рждрж░ ржмрзЛржи рж░рзЗ ржкрж╛рзЯржЬрж╛ржорж╛ ржЦрзБрж▓рзЗ ржЪрзБржжрж┐ ЁЯдг ${name}`, 69000);
    await sendText(`ржЙржорзНржоржорзНржорж╛ рждрж░ ржмрзЛржи ржПрж░ржХржЪрж┐ ржнрзБржжрж╛рзЯЁЯТЙред ${name}`, 72000);
    await sendText(`DNA ржЯрзЗрж╖рзНржЯ ржХрж░рж╛ ржжрзЗржЦржмрж┐ ржЖржорж╛рж░ ржЪрзБржжрж╛ рждрзЗржЗ рждрж░ ржЬржирзНржоред ${name}`, 75000);
    await sendText(`ржХрж╛ржорж▓рж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ тЬЛ ${name}`, 81000);
    await sendText(`ржмрж╛рж╕рзНржЯрзНрж░рж╛ржб ржПрж░ ржмрж╛ржЪрзНржЫрж╛ ржмрж╕рзНрждрж┐рж░ ржорзЗрзЯрзЗ ${name}`, 87000);
    await sendText(`ржЖржорж╛рж░ ржЬрж╛рж░ржЬ рж╢ржирзНрждрж╛ржиЁЯдЦ`, 93000);
    await sendText(`Welcome ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ЁЯе░ред ${name}`, 99000);
    await sendText(`рждрж░ ржХржЪрж┐ ржмрзЛржи ржПрж░ ржкржо ржкржоЁЯШН.. ${name}`, 105000);
    await sendText(`ржмрзНржпрж╛рж╕рзНржпрж╛рж░ ржорзЗрзЯрзЗ ржХржерж╛ рж╢рзБржи рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ ржЧрж╛ржоржЫрж╛ ржкрзЗржЪрж┐рзЯрзЗЁЯР░ ${name}`, 111000);
    await sendText(`Hi ржПрж╕ржХрзЗ рж╕рж┐ржжрзНржжрж┐ржХ ржПрж░ ржЬрж╛рж░ржЬ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ЁЯТФ! ${name}`, 114000);
    await sendText(`рзирзж ржЯрж╛ржХрж╛ ржП ржкрждрж┐рждрж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ${name}`, 120000);
    await sendText(`depression ржерзЗржХрзЗржУ рждрж░ ржорж╛ржЗрж░рзЗ ржЪрзБ*** ржжрж┐ ЁЯдм ${name}`, 126000);
    await sendText(`ржмрж╕рзНрждрж┐рж░ ржорзЗрзЯрзЗ ржЕржирж▓рж╛ржЗржирзЗрж░ ржХрж┐ржВ ${name}`, 132000);
    await sendText(`ржЯрзБржХрж╛ржЗ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗЁЯдЯ ${name}`, 138000);
    await sendText(`рждрж░ ржЖржорзНржорзБ рж░рзЗ ржкрж╛рзЯржЬрж╛ржорж╛ ржЦрзБрж▓рзЗ ржЪрзБржжрж┐ ЁЯдг ${name}`, 144000);
    await sendText(`ржЙржорзНржоржорзНржорж╛ рждрж░ ржмрзЛржи ржПрж░ржХржЪрж┐ ржнрзБржжрж╛рзЯЁЯТЙред ${name}`, 150000);
    await sendText(`DNA ржЯрзЗрж╖рзНржЯ ржХрж░рж╛ ржжрзЗржЦржмрж┐ ржЖржорж╛рж░ ржЪрзБржжрж╛ рждрзЗржЗ рждрж░ ржЬржирзНржоред ${name}`, 156000);
    await sendText(`рж╣рж┐ржЬрж▓рж╛ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ тЬЛ ${name}`, 162000);
    await sendText(`ржмрж╕рзНрждрж┐рж░ржирзНржжрж╛рж▓рж╛рж▓ ржПрж░ ржмрж╛ржЪрзНржЫрж╛ ржмрж╕рзНрждрж┐рж░ ржорзЗрзЯрзЗ ${name}`, 168000);
    await sendText(`ржЖржорж╛рж░ ржЬрж╛рж░ржЬ рж╢ржирзНрждрж╛ржи ржЬрж╛ ржнрж╛ржЧЁЯдЦ`, 171000);
    await sendText(`Welcome рж╢рзБрзЯрзЛрж░рзЗрж░ ржмрж╛ржЪрзНржЪрж╛ ЁЯе░ред ${name}`, 174000);
    await sendText(`ржХрзБрждрзНрждрж╛рж░ ржмрж╛ржЪрзНржЫрж╛ рждрж░ ржХржЪрж┐ ржмрзЛржи ржПрж░ ржкржо ржкржоЁЯШН.. ${name}`, 177000);
    await sendText(`ржЦрж╛ржЩрзНржХрж┐рж░ржорзЗрзЯрзЗ ржорзЗрзЯрзЗ ржХржерж╛ рж╢рзБржи рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ ржЧрж╛ржоржЫрж╛ ржкрзЗржЪрж┐рзЯрзЗЁЯР░ ${name}`, 180000);
    await sendText(`Hi ржПрж╕ржХрзЗ рж╕рж┐ржжрзНржжрж┐ржХ ржПрж░ ржЬрж╛рж░ржЬ ржорзЗрзЯрзЗ ржорж╛ржЧрж┐рж░ ржорзЗрзЯрзЗ ЁЯТФ! ${name}`, 9000);
  } catch (error) {
    console.error(error);
    api.sendMessage("error", message.threadID);
  }
}
