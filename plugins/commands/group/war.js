export const config = {
  name: "war",
  version: "1.0.0",
  permissions: [2],
  credits: "SK-SIDDIK-KHAN",
  category: "admin",
  usages: "please @mention",
  cooldowns: 5,
};

export async function onCall({ message, api = global.api, userPermissions }) {
  try {
    if (!api) return console.error("API not found!");

    console.log("User Permissions:", userPermissions);

    if (!userPermissions || !userPermissions.includes(2)) {
      return api.sendMessage("тЭМ You do not have permission to use this command ЁЯФР", message.threadID);
    }

    const mentions = message.mentions || {};
    const mentionIDs = Object.keys(mentions);
    if (mentionIDs.length === 0) {
      return api.sendMessage("ржпрзЗржЗ ржирж╛рж╕рзНрждрж┐ржХ ржХрзЗ рж╢рж┐ржХрзНрж╖рж╛ ржжрж┐рждрзЗ ржЪрж╛ржи рждрж╛ржХрзЗ @ржорзНржпрж╛ржирж╢ржи ржжрзЗржУ", message.threadID);
    }

    const mentionID = mentionIDs[0];
    const mentionName = mentions[mentionID];
    const arraytag = [{ id: mentionID, tag: mentionName }];

    function sendText(text, delay = 0) {
      return new Promise(resolve => setTimeout(() => {
        api.sendMessage({ body: text, mentions: arraytag }, message.threadID);
        resolve();
      }, delay));
    }

   await sendText(`ржмржЬрзНржЬрж╛ржд ржирж╛рж╕рзНрждрж┐ржХ`, 0);
  await sendText(`рждрж░ ржорждрзЛ ржлрж╛ржЬрж┐рж▓ ржкрж▓рж╛ ржкрж╛ржЗржи ржПржЗ ржкрзНрж░ржержо ржжрзЗржЦрж▓рж╛ржо-!!ЁЯШИред ${name}`, 3000);
  await sendText(`ржЯрзЛржХрж╛ржЗ ржкрж▓рж╛ ржкрж╛ржЗржи-!!ЁЯШ╣.. ${name}`, 5000);
  await sendText(`ржирж╛рж╕рзНрждрж┐ржХржжрзЗрж░ ржЬрж╛рзЯржЧрж╛рзЯ ржирж╛ржЗ рждржжрзЗрж░ ржорждрзЛ ржирж╛рж╕рзНрждрж┐ржХ ржХрзЗ ржкрзЗрж▓рзЗ рж╣рж╛рждрзЗ ржкрж╛рзЯрзЗрж░ рж░ржЧ ржХрзЗрждрзЗ ржжрж┐рждрж╛ржо-!!ЁЯй╕ЁЯкУ ${name}`, 7000);
  await sendText(`ржжрзБрж░ржм ржЪрж╛ржУрзЯрж╛ ржорж░ рждрзЛрж░ ржорждрзЛ ржлрж╛ржЬрж┐рж▓ ржЖржорж╛ржжрзЗрж░ ржЧрзНрж░рзБржк ржП ржерж╛ржХрж╛рж░ ржпрзЛржЧрзНржп-!!ЁЯШ╣ЁЯШИ ${name}`, 9000);
  await sendText(`ржХрж╛ржорж▓рж╛ ржкрж▓рж╛ ржкрж╛ржЗржи ржХрж╛ржорж▓рж╛ ржжрж┐ржмрж┐ ржжрзЗ ржПрждрзЛ ржирж╛ржЯржХ ржХрж╕рж░ ржХрзЗржирзЛ-!!ЁЯШ╣ ${name}`, 12000);
  await sendText(`рждрзБржЗ рждрж░рж╛ ржорж╛ ржмрж╛ржмрж╛рж░ ржЬрж╛рж░ржЬ рж╕ржирзНрждрж╛ржи-!!ЁЯШИ ${name}`, 15000);
  await sendText(`ржмрж╛ржк ржЪрж┐ржирзЗ рж▓рж╛ржЧрждрзЗ ржЖрж╕рж┐рж╕ ржирж╛ рж╣рж▓рзЗ ржкрж░рзЗ ржЖржкрж╕рж╕ ржХрж░рждрзЗ рж╣ржмрзЗ-!!ЁЯШИЁЯШ╣ ${name}`, 17000);
  await sendText(`ржлрж╛ржЗрж▓рж╛ржо ржХрж░рж┐ ржнрж╛рж▓рзЛ ржХржерж╛ рждрзБржЗ рждрж░ ржмрж╛ржкрзЗрж░ рж╕рж╛ржерзЗ рж▓рж╛ржЧрждрзЗ ржЖрж╕ржмрж┐ ржХрзЗржирзЛ рж░рзЗ ржирж╛рж╕рзНрждрж┐ржХ-!!ЁЯдмЁЯШИ ${name}`, 20000);
  await sendText(`рждрзБржЗ ржПрждрзЛ ржЯрж╛ ржЦрж╛рж░рж╛ржк ржпрзЗ рждрзЛржХрзЗ ржжрзЗржЦрзЗ ржЬрж╛рж╣рж╛ржирзНржирж╛ржо ржУ ржнрзЯрзЗ ржХрж╛ржирзНржирж╛ ржХрж░ржЫрзЗ-!!ЁЯЩВ ${name}`, 23000);
  await sendText(`рж╕ржорзЯ ржерж╛ржХрждрзЗ ржорж╛ржирзБрж╖ рж╣рзЯрзЗ ржпрж╛ ржирж╛ рж╣рж▓рзЗ рждрж░рзЗ ржЖржорж╛ржжрзЗрж░ ржорж╛ржирзБрж╖ ржХрж░рждрзЗ рж╣ржмрзЗ-!!ЁЯШИред ${name}`, 25000);
  await sendText(`ржнрж┐ржХрзНрж╖рж╛ ржХрж░рзЗ рждрж░ ржЬрзАржмржи ржЪрж▓рзЗ ржЖрж░ рждрзБржЗ ржЖрж╕ржЫрзЛржЯ ржмрж╛ржмрж╛ржжрзЗрж░ рж╕рж╛ржерзЗ рж▓рж╛ржЧрждрзЗ-!!ЁЯШИред ${name}`, 28500);
  await sendText(`ржжрж┐ржи рж░рж╛ржд рж╣рж╛ржд ржорж╛ржЗрж░рж╛ ржмрж▓рж╕ рждрзБржЗ ржкрж╛ржкрж┐ ржирж╛рж╣ рждрзБржЗ ржнрж╛рж▓рзЛ ржорж╛ржирзБрж╖-!!ЁЯШ╣ ${name}`, 31000);
  await sendText(`ржЯрзЛржХрж╛ржЗ ржкрж▓рж╛ ржкрж╛ржЗржи ржЖржорж╛ржжрзЗрж░ ржбрж╛рж╕рзНржЯржмрж┐ржирзЗрж░ ржорзЯрж▓рж╛ ржЖржмрж░рзНржЬржирж╛ ржЯрзБржХрж┐рзЯрзЗ рждрж░ ржЬрзАржмржи ржЪрж▓рзЗ ржЖрж░ рждрзБржЗ ржЖржорж╛ржжрзЗрж░ ржЙржкрж░рзЗ ржЖрж╕рж╕ ржХржерж╛ ржмрж▓рждрзЗ-!!ЁЯШ╣ ${name}`, 36000);
  await sendText(`ржерж╛ржкрзНржкрж░ ржЦрж╛ржмрж┐ рждрзЛ ржмрж╛ржк ржЪрж┐ржиржмрж┐-!!ЁЯШ╣`, 39000);
  await sendText(`ржнрж┐ржХрзНрж╖рж╛ ржорж╛ржЗржВржЧрж╛ ржЦрж╛рж╕ ржЖржмрж╛рж░ ржмрзЬрзЛ ржмрзЬрзЛ ржХржерж╛ ржмрж▓рж╕ рж╕рж░ржо ржХрж░рзЗ ржирж╛рж╣ ржирж╛рж╕рзНрждрж┐ржХ-!!ЁЯШ╣ред ${name}`, 42000);
  await sendText(`ржЖржорж╛рж░ ржЗрж╕рж▓рж╛ржо ржПрж░ рж╕рж╛ржерзЗ рж▓рж╛ржЧрждрзЗ ржЖрж╕рж┐рж╕ ржирж╛рж╣ рждрзЛрж░ ржЬрзАржмржи ржПржХ ржерж╛ржкрзНржкрзЬрзЗ рж╢рзЗрж╖ ржХрж░рзЗ ржжрж┐ржмрзЛ ${name}`, 48000);
  await sendText(`рждрж░ ржорждрзЛ ржирж╛рж╕рзНрждрж┐ржХ ржЖржорж╛ржжрзЗрж░ ржкрж╛ ржЪрзЗржЯрзЗ ржЦрж╛рзЯ ржЖрж░ рждрзБржЗ ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржерзЗ рж▓рж╛ржЧрждрзЗ ржЖрж╕рзЛрж╕-!!ЁЯШ╣ЁЯШИ ${name}`, 51000);
  await sendText(`ржЖржорж╛ржжрзЗрж░ ржирж╛ржорзЗ ржЙрж▓рзНржЯрзЛ ржкрж╛рж▓ржЯрж╛ ржХржерж╛ ржмржЗрж▓рж╛ рждрж░ ржЬрзАржмржи ржирж┐рзЯрзЗ ржЯрж╛ржирж╛ ржЯрж╛ржирж┐ ржХрж░рж┐рж╕ ржирж╛рж╣-!!ЁЯШ╣ ${name}`, 54000);
  await sendText(`ржЖржорж╛ржжрзЗрж░ ржкрж╛ ржЪрзЗржЯрзЗ ржЦрж╛ржУрзЯрж╛ ржкрзЛрж▓рж╛ ржкрж╛ржЗржи ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржерзЗ рж▓рж╛ржЧрждрзЗ ржЖрж╕ржмрж┐-!!ЁЯШИЁЯдм ${name}`, 57000);
  await sendText(`ржмрж╛рж╕рзНржЯрзНрж░рж╛ржб ржПрж░ ржмрж╛ржЪрзНржЫрж╛ ржмрж╕рзНрждрж┐рж░ ржкрзЛрж▓рж╛-!!ЁЯдзЁЯдо ${name}`, 87000);
  await sendText(`рждрж░ ржорж╛ ржмрж╛ржмрж╛рж░ ржЬрж╛рж░ржЬ рж╢ржирзНрждрж╛ржи-!!ЁЯдмЁЯШИ`, 93000);
  await sendText(`рждрж░ ржорждрзЛ ржирж╛рж╕рзНрждрж┐ржХ ржкрж╢рзБрж░ ржерзЗржХрзЗ ржирж┐ржХрзНрж░рж┐рж╕ржарзЛ-!!ЁЯШИ ${name}`, 99000);
  await sendText(`рждрж░ ржЬржирзНржоржжрж╛рждрж╛ рж░рж╛рж╕рзНрждрж╛рж░ ржХрзБрждрзНрждрж╛-!!ЁЯдзЁЯШ╣ ${name}`, 105000);
  await sendText(`рждрзБржЗ ржХрж┐рждрзНрждрж╛ рждрж╛ржЗ ржХрзБрждрзНрждрж╛рж░ ржорждрзЛ рж╢рзБржзрзБ ржЧрзЗржУ ржЧрзЗржУ ржХрж░рж╕-!!ЁЯШ╣ ${name}`, 111000);
  await sendText(`рждрзЛрж░ рж╣рзЯрждрзЛ ржЬрж╛ржирж╛ ржирзЗржЗ ржЗрж╕рж▓рж╛ржо ржХрж┐ ржЬрж┐ржирж┐рж╕ ржЗрж╕рж▓рж╛ржо ржПрж░ ржкрж╛ржУрзЯрж╛рж░ ржХрждрзЛ ржЯрзБржХрзБ-!!ЁЯШОтЪбтЫИя╕П ${name}`, 114000);
  await sendText(`рж╕рзЗржЗ ржжрж┐ржи ржХрж╛рж░ ржХрж╛ржорж▓рж╛ ржкрж▓рж╛ ржкрж╛ржЗржи-!!ЁЯШБ ${name}`, 120000);
  await sendText(`ржЬрзБрзЯрж╛рж░рж┐ ржЧрж╛ржЮрзНржЬрзБржЯрж┐ ржкрзЛрж▓рж╛ ржкрж╛ржЗржи ржЗрж╕рж▓рж╛ржорж┐ржХ ржЧрзНрж░рзБржк ржП ржерж╛ржХрж╛рж░ ржЬржЬрзНржЮ ржирж╛рж╣-!!ЁЯдм ${name}`, 126000);
  await sendText(`ржмрж╕рзНрждрж┐рж░ ржЫрзЗрж▓рзЗ ржЕржирж▓рж╛ржЗржирзЗрж░ ржХрж┐ржВ-!!ЁЯШ╣ ${name}`, 132000);
  await sendText(`рждрзБржЗ ржЯрзЛржХрж╛ржЗ ржХрж┐ржВ-!!ЁЯШ╣ ${name}`, 138000);
  await sendText(`ржЯрж╛ржХрж╛рж░ ржЕржнрж╛ржмрзЗ ржорж░рж╛ ржЧрж░рзБ ржЦрж╛рж╕-!!ЁЯШ╣ ${name}`, 144000);
  await sendText(`ржЯрзЛржХрж╛ржЗ рж╕рзЗрж▓рж┐ржмрзНрж░рзЗржЯрж┐-!!ЁЯШ╣ ${name}`, 150000);
  await sendText(`ржнрж╛ржд ржЦрж╛ржЗржмрж╛рж░ ржнрж╛ржд ржкрж╛рж╕ ржирж╛ ржЖрж░ ржХржерж╛ ржмрж▓рждрзЗ ржЖрж╕рзЛрж╕ ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржерзЗ-!!ЁЯШ╣ ${name}`, 156000);
  await sendText(`ржлржХрж┐ржирзНржирж┐ ржкрзЛрж▓рж╛ржкрж╛ржи-!!ЁЯШ╣ ${name}`, 162000);
  await sendText(`ржмрж╕рзНрждрж┐рж░ржирзНржжрж╛рж▓рж╛рж▓ ржПрж░ ржмрж╛ржЪрзНржЫрж╛ ржмрж╕рзНрждрж┐рж░ ржкрзЛрж▓рж╛-!!ЁЯШ╣ ${name}`, 168000);
  await sendText(`ржЬрж╛рж░ржЬ рж╢ржирзНрждрж╛ржи ржЬрж╛ ржнрж╛ржЧ-!!ЁЯШ╣ЁЯШИ`, 171000);
  await sendText(`hare is ржмрж╕рзНрждрж┐ ржкрзЛрж▓рж╛-!!ЁЯШ╣ ${name}`, 174000);
  await sendText(`ржмрж╛ржирзНрждрзЗрзЯрж╛ржорж┐ ржХрж░рж╛рж░ ржЬрж╛рзЯржЧрж╛ ржкрж╛рж╕ ржирж╛-!!ЁЯдм ${name}`, 177000);
  await sendText(`рж▓рж╛ржЧрждрзЗ ржЖрж╕рж┐рж╕ ржирж╛рж╣ ржнрж╛рж░ржЪрзБрзЯрж╛рж▓ ржЬржЧржд рж╣рж╛рж░рж╛ржо ржХрж░рзЗ ржжрж┐ржорзБ-!!ЁЯдмЁЯШИ ${name}`, 180000);
  } catch (error) {
    console.error(error);
    api.sendMessage("error", message.threadID);
  }
}
